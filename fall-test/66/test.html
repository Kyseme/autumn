<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
    
</body>
<script>
 /**整数1出现的次数(从1到n整数中1出现的次数)
 * 求出1~13的整数中1出现的次数,并算出100~1300的整数中1出现的次数？
 * 为此他特别数了一下1~13中包含1的数字有1、10、11、12、13因此共出现6次
 * ,但是对于后面问题他就没辙了。ACMer希望你们帮帮他,并把问题更加普遍化,
 * 可以很快的求出任意非负整数区间中1出现的次数（从1 到 n 中1出现的次数）。
 */

function NumberOf1Between1AndN_Solution(n) {
    if (n <= 0) {
        return;
    }
    let str = n + '';
    let numbers = [];
    for (let i = 0; i < str.length; i++) {
        numbers[i] = str[i] - '0';
    }
    return numberOf1(numbers, 0);
}
function numberOf1(numbers, curIdx) {
    if (numbers == null || curIdx >= numbers.length || curIdx < 0) {
        return 0;
    }
    let first = numbers[curIdx];
    let length = numbers.length - curIdx;
    if (length == 1 && first == 0) {
        return 0;
    }
    if (length == 1 && first > 0) {
        return 1;
    }
    let numFirstDigit = 0;
    if (first > 1) {
        numFirstDigit = Math.pow(10,length-1);
    }
    else if (first == 1) {
        numFirstDigit = atoi(numbers, curIdx + 1) + 1;
    }
    let numOtherDigits = first * (length - 1) *  Math.pow(10,length - 2);
    let numRecursive = numberOf1(numbers, curIdx + 1);
    return numFirstDigit + numOtherDigits + numRecursive;

}

function atoi(numbers, i) {
    let result = +numbers.slice(i).join('');
    return result;
}
console.log(NumberOf1Between1AndN_Solution(3313));
</script>
</html>